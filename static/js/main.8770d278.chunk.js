(this["webpackJsonpcovid-19-stats"]=this["webpackJsonpcovid-19-stats"]||[]).push([[0],{14:function(e,t,a){e.exports={container:"Chart_container__2bxln",chart:"Chart_chart__1e-yh"}},185:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(58),o=a.n(c),i=(a(73),a(3)),l=a.n(i),u=a(7),s=a(59),d=a(60),m=a(67),p=a(65),h=a(21),f=a.n(h),v=a(22),_=a(14),g=a.n(_),b=function(e){return e.children},y=a(62),E=a.n(y),k=function(){return r.a.createElement("div",{className:E.a.Spinner},"Loading...")},C=function(e){var t=e.countryData,a=e.country;function n(e){for(var t=[],a=1;a<e.length;a++){var n=e[a]-e[a-1];n<0&&(n=0),t.push(n)}return t}var c=r.a.createElement(k,null),o=null,i=null,l=null;if(t.date){if(0===t.date.length)return r.a.createElement("div",null,"Sorry...I was unable to get the data from ",a," ;(");o=r.a.createElement(b,null,r.a.createElement("div",{className:"chartTitle"},"Daily Summary in ",a||"Spain"),r.a.createElement(v.a,{data:{labels:t.date.map((function(e){return new Date(e).toDateString()})),datasets:[{data:n(t.confirmed).map((function(e){return e})),label:"Confirmed",backgroundColor:"#24307B",fill:!0},{data:n(t.deaths).map((function(e){return e})),label:"Deaths",backgroundColor:"#B32222",fill:!0},{data:n(t.recovered).map((function(e){return e})),label:"Recovered",backgroundColor:"#1A8B28",fill:!0}]},options:{scales:{xAxes:[{ticks:{callback:function(e,t,a){return t%3?"":e}}}]},datalabels:{display:!1}}})),i=r.a.createElement(b,null,r.a.createElement("div",{className:"chartTitle"},"Current Active Cases in ",a||"Spain"),r.a.createElement(v.b,{data:{labels:t.date.map((function(e){return new Date(e).toDateString()})),datasets:[{data:t.active.map((function(e){return e})),label:"Active",borderColor:"purple",backgroundColor:"rgba(21, 31, 48, 0.5)",fill:!0}]},options:{scales:{xAxes:[{ticks:{callback:function(e,t,a){return t%3?"":e}}}]},datalabels:{display:!1}}})),l=r.a.createElement(b,null,r.a.createElement("div",{className:"chartTitle"},"Total stats in ",a||"Spain"),r.a.createElement(v.a,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["#24307B","#1A8B28","#B32222"],data:[t.confirmed[t.confirmed.length-1],t.recovered[t.recovered.length-1],t.deaths[t.deaths.length-1]]}]},options:{legend:{display:!1},datalabels:{display:!0,color:"#fff"}}})),c=r.a.createElement(b,null,r.a.createElement("div",{className:g.a.chart},i),r.a.createElement("div",{className:g.a.chart},o),r.a.createElement("div",{className:g.a.chart},l))}return r.a.createElement("div",{className:g.a.container},c)},w=a(66),D=a(4),N=a.n(D),S=a(32),x=a.n(S),A="https://api.covid19api.com",j=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,c,o,i,u,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(A,"/country/spain"),t&&(a="".concat(A,"/country/").concat(t)),e.prev=2,e.next=5,x.a.get(a);case 5:return n=e.sent,r=n.data,c=r.map((function(e){return e.Confirmed})),o=r.map((function(e){return e.Recovered})),i=r.map((function(e){return e.Deaths})),u=r.map((function(e){return e.Active})),s=r.map((function(e){return e.Date})),d={confirmed:c,recovered:o,deaths:i,active:u,date:s},console.log(d),e.abrupt("return",d);case 17:return e.prev=17,e.t0=e.catch(2),console.log(e.t0.name),console.log(e.t0.message),e.abrupt("return",new Error("Couldn't fetch country data."));case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(A,"/countries"));case 3:return t=e.sent,a=t.data,e.abrupt("return",a.map((function(e){return e.Country})));case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",new Error("Couldn't fetch countries."));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=e.handleCountryChange,a=e.theme,c=Object(n.useState)([]),o=Object(w.a)(c,2),i=o[0],s=o[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,L();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]);var d=["".concat(N.a.selectorView)];return"dark"===a?d.push("".concat(N.a.selectorViewDark)):d=["".concat(N.a.selectorView)],r.a.createElement("div",{className:N.a.selector},r.a.createElement("label",{htmlFor:"countries",className:"light"===a?N.a.countyLabelLight:N.a.countyLabelDark},"Please select a country:"),r.a.createElement("select",{id:"countries",defaultValue:"",onChange:function(e){return t(e.target.value)},className:d.join(" ")},r.a.createElement("option",{value:"Spain",defaultValue:!0},"Spain"),i.sort().map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:N.a.disclaimer},"All data is received from Postman API"),r.a.createElement("div",{className:"light"===a?N.a.notificationLight:N.a.notificationDark},"For a better view of the charts, please turn your device to landscape orientation."))},V=a(63),B=a.n(V),M=function(){return r.a.createElement("footer",{className:B.a.footer},r.a.createElement("div",null,"Built with ",r.a.createElement("span",{role:"img",alt:"love","aria-label":""},"\u2764\ufe0f")),r.a.createElement("div",null,"\xa9 2020 by ",r.a.createElement("a",{href:"https://dimianni.github.io/"},"Dimianni"),"."))},H=a(8),P=a.n(H),R=a(64),I=a.n(R),F=function(e){var t=e.themeSwitcher,a=e.theme,n=["".concat(P.a.def)];return"dark"===a?n.push("".concat(P.a.darkMode)):n=["".concat(P.a.def)],r.a.createElement("div",{className:"light"===a?P.a.light:P.a.dark},r.a.createElement("div",{className:P.a.headerContainer},r.a.createElement("img",{alt:"dimianni",src:I.a,className:P.a.logo}),r.a.createElement("button",{onClick:function(){return t()},className:n.join(" ")},"Mode:","light"===a?r.a.createElement("ion-icon",{name:"sunny"}):r.a.createElement("ion-icon",{name:"moon"}))))},J=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:{},country:"",theme:"light"},e.handleCountryChange=function(){var t=Object(u.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(a);case 2:n=t.sent,e.setState({data:n,country:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.themeSwitcher=function(){"light"===e.state.theme?e.setState({theme:"dark"}):e.setState({theme:"light"})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,this.setState({data:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,a=e.country,n=e.theme;return r.a.createElement("div",{className:"light"===n?f.a.Applight:f.a.Appdark},r.a.createElement(F,{themeSwitcher:this.themeSwitcher,theme:n}),r.a.createElement("div",{className:f.a.container},r.a.createElement(O,{handleCountryChange:this.handleCountryChange,theme:n}),r.a.createElement(C,{countryData:t,country:a})),r.a.createElement(M,null))}}]),a}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root"))},21:function(e,t,a){e.exports={container:"App_container__1MQN3",Applight:"App_Applight__3I4JD",Appdark:"App_Appdark__2YqCr"}},4:function(e,t,a){e.exports={selector:"Country_selector__122VX",disclaimer:"Country_disclaimer__2-4Rr",countyLabelLight:"Country_countyLabelLight__2Fd7l",countyLabelDark:"Country_countyLabelDark__2OZhr",selectorView:"Country_selectorView__39CYo",selectorViewDark:"Country_selectorViewDark__M06jh",notificationLight:"Country_notificationLight__1P_7N",notificationDark:"Country_notificationDark__3pLEl"}},62:function(e,t,a){e.exports={Spinner:"Spinner_Spinner__2AEm6",load8:"Spinner_load8__swVB7"}},63:function(e,t,a){e.exports={footer:"Footer_footer__3kRR3"}},64:function(e,t,a){e.exports=a.p+"static/media/Dimianni.aac117dc.svg"},68:function(e,t,a){e.exports=a(185)},73:function(e,t,a){},8:function(e,t,a){e.exports={headerContainer:"Header_headerContainer__1P9Gl",logo:"Header_logo__ffv_d",dark:"Header_dark__aLeXN",light:"Header_light__2W2fc",def:"Header_def__3HbUm",darkMode:"Header_darkMode__uCNJQ"}}},[[68,1,2]]]);
//# sourceMappingURL=main.8770d278.chunk.js.map